<?xml version="1.0" encoding="utf-8"?>
<odoo>
<template id="l10n_ro_account_report.report_sale">
    <t t-call="web.html_container">
			<div class="page">
                 <table class="table table-condensed  table-hover table-striped table-bordered">
                    <thead>
                        <tr>
							<td colspan="3">
							    <span t-field="company.partner_id" 
							            t-field-options='{"widget": "contact", "fields": ["address", "name", "vat", "nrc"], "no_marker": true}'/>
                            </td>
                            <td colspan="30">
							    <h2  class="text-center"><span t-esc="res_company.name"/>: Sale Journal</h2>    
                                <p align="center">
						<!-- 			<strong>Period: </strong><span t-raw="data['periods'][1]"/> -->
								    <strong>Dates: </strong><span t-esc="date_from" /> - <span t-esc="date_to"/>
								</p>
							</td>
							<td colspan="2"/>
						</tr>
                    </thead>
                </table>
                <table class="table table-condensed" >
                    <thead>                       
                        <tr>
                            <th colspan="1" class="text-center">Nr Crt</th>
                            <th colspan="2" class="text-center">Document</th>
                            <th colspan="3" class="text-center">Partner</th>
                            <th colspan="1" class="text-center">Total</th>
                            <th colspan="9" class="text-center">Deliveries/Services taxable</th>
                            <th colspan="1" class="text-center">Inverse Taxation</th>
                            <th colspan="1" class="text-center">Special Treatment</th>
                            <th colspan="5" class="text-center">Payments - Exigible Operations</th>
                            <th colspan="2" class="text-center">Not Exigible Operations</th>
                            <th colspan="2" class="text-center">Intra - communitaire Services</th>
                            <th colspan="1" class="text-center">Exempt acc. art.143 al.2 lit.a+d</th>
                            <th colspan="1" class="text-center">Exempt acc. art.143 al.2 lit.b+c</th>
                            <th colspan="1" class="text-center">Others</th>
                            <th colspan="2" class="text-center">Intra - communitaire and Inverse Taxation</th>
                        </tr>
                        <tr>
                            <th colspan="1" class="text-center"></th>
                            <th colspan="1" class="text-center">Number</th>
                            <th colspan="1" class="text-center">Date</th>
                            <th colspan="2" class="text-center">Name</th>
                            <th colspan="1" class="text-center">VAT</th>
                            <th colspan="1" class="text-center">Total</th>
                            <th colspan="1" class="text-center">Base</th>                            
                            <th colspan="1" class="text-center">VAT</th>
                            <th colspan="1" class="text-center">Base 19%</th>                            
                            <th colspan="1" class="text-center">VAT 19%</th>
                            <th colspan="1" class="text-center">Base 9%</th>                            
                            <th colspan="1" class="text-center">VAT 9%</th>
                            <th colspan="1" class="text-center">Base 5%</th>                            
                            <th colspan="1" class="text-center">VAT 5%</th>
                            <th colspan="1" class="text-center">Base 0%</th> 
                            <th colspan="1" class="text-center">Base</th> 
                            <th colspan="1" class="text-center">Base</th> 
                            <th colspan="1" class="text-center">Number</th>
                            <th colspan="1" class="text-center">Date</th>
                            <th colspan="1" class="text-center">Total</th>
                            <th colspan="1" class="text-center">Base</th>                            
                            <th colspan="1" class="text-center">VAT</th>
                            <th colspan="1" class="text-center">Base</th>                            
                            <th colspan="1" class="text-center">VAT</th>
                            <th colspan="1" class="text-center">With deduction rights</th>                            
                            <th colspan="1" class="text-center">Without deduction rights</th>>                            
                            <th colspan="1" class="text-center">Base</th>
                            <th colspan="1" class="text-center">Base</th>                            
                            <th colspan="1" class="text-center">Base</th>                            
                            <th colspan="1" class="text-center">Base Collected</th>                            
                            <th colspan="1" class="text-center">VAT Collected</th>
                        </tr>
                    </thead>
                    <tbody>
                          <tr t-foreach="lines" t-as="inv1">
                            <td><span t-esc="inv1_index + 1"/></td>
                            <td>
                                <span t-esc="inv1['number']"/>                                     
                            </td>
                            <td>
                                <span t-esc="inv1['date']"/>                                     
                            </td>
                            <td colspan="2" >
                                <span t-esc="inv1['partner']"/>                                     
                            </td>
                            <td>
                                <span t-esc="inv1['vat']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['total']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['total_base']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['total_vat']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_19']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['tva_19']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_9']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['tva_9']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_5']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['tva_5']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_0']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['invers']"/>                                     
                            </td>
                            <td class="text-right">
                                <span t-esc="0.00"/>                                     
                            </td>							
                            <td colspan="5">
                                <t t-if="inv1['payments']">
                                <table width="100%">
                                    <tr t-foreach="inv1['payments']" t-as="pay">
                                        <td class="text-right" width="30">
                                            <t t-if="pay['number']!=''"><span t-esc="pay['number'].rjust(10,' ')"/></t>
                                            <t t-if="pay['number']==''">...........</t>   
                                        </td>
                                        <td class="text-right" width="30">
                                            <t t-if="pay['date']!=''"><span t-esc="pay['date']"/></t> 
                                            <t t-if="pay['date']==''">...........</t>       
                                        </td>
                                        <td class="text-right">
                                            <span t-esc="pay['amount']"/>                                     
                                        </td>
                                        <td class="text-right">
                                            <span t-esc="pay['base_exig']"/>                                     
                                        </td>
                                        <td class="text-right">
                                            <span t-esc="pay['tva_exig']"/>                                     
                                        </td>
                                    </tr>
                                </table>
                                </t>
                            </td>  
                            <td class="text-right">
                                <span t-esc="inv1['base_neex']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['tva_neex']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_ded1']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_ded2']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['scutit1']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['scutit2']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['others']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['base_col']"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="inv1['tva_col']"/>
                            </td>   
                        </tr>
                    </tbody>
                    <tbody>
 <!--                         <tr>
                            <td>....</td>
                            <td>...........</td>
                            <td>...........</td>
                            <td>...........</td>
                            <td>...........</td>
                            <td>...........</td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['total'], lines, 0))"/>
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['total_base'], lines, 0))"/>    
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['total_vat'], lines, 0))"/>    
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_24'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['tva_24'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_20'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['tva_20'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_19'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['tva_19'], lines, 0))"/>    
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_9'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['tva_9'], lines, 0))"/>    
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_5'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['tva_5'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['base_0'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x + inv1['invers'], lines, 0))"/>     
                            </td>
                            <td class="text-right">
                                <span t-esc="0.00"/>                                     
                            </td>							
                            <td width="30">...........</td>
                            <td width="30">...........</td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x+reduce(lambda y, obj1: y+obj1['amount'] , inv1['payments'] , 0 ) , lines , 0 ) or 0.00)"/>
                            </td>							
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x+reduce(lambda y, obj1: y+obj1['base_exig'] , inv1['payments'] , 0 ) , lines , 0 ) or 0.00)"/>
                            </td>							
                            <td class="text-right">
                                <span t-esc="reduce(lambda x, inv1: x+reduce(lambda y, obj1: y+obj1['tva_exig'] , inv1['payments'] , 0 ) , lines , 0 ) or 0.00)"/>
                            </td>							
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['base_neex'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['tva_neex'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['base_ded1'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['base_ded2'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['scutit1'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['scutit2'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['others'], lines, 0))"/> 
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['base_col'], lines, 0))"/>
                            </td>
                            <td class="text-right">
								<span t-esc="reduce(lambda x, inv1: x + inv1['tva_col'], lines, 0))"/> 
                            </td>   
                        </tr> -->
                    </tbody>
                 </table>
             </div>


    </t>
</template>

        <report
            id="action_report_sale"
            string="Sale ANAF Report (PDF)"
            model="sp.report"
            report_type="qweb-html"  
            name="l10n_ro_account_report.report_sale"
            print_report_name='rrrr'
		 	/>
<!--  "qweb-pdf"
            file="l10n_ro_account_report/sale_report_anaf"
		 	paperformat="paperformat_A3_landscape"
-->

</odoo>
